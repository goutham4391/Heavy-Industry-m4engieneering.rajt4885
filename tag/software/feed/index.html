<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>software Archives - M4 Engineering</title>
	<atom:link href="https://www.m4-engineering.com/tag/software/feed/" rel="self" type="application/rss+xml" />
	<link>https://www.m4-engineering.com/tag/software/</link>
	<description>Engineering</description>
	<lastBuildDate>Tue, 03 Aug 2021 15:54:33 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.0.2</generator>

<image>
	<url>https://www.m4-engineering.com/wp-content/uploads/2021/01/cropped-logo1_png_2020-32x32.png</url>
	<title>software Archives - M4 Engineering</title>
	<link>https://www.m4-engineering.com/tag/software/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Shear Moment Diagram of a Blended Wing Body using pyNastran</title>
		<link>https://www.m4-engineering.com/shear-moment-diagram-of-a-blended-wing-body-using-pynastran/</link>
		
		<dc:creator><![CDATA[Manderlee Baker]]></dc:creator>
		<pubDate>Wed, 14 Jul 2021 20:41:00 +0000</pubDate>
				<category><![CDATA[Technical Blog]]></category>
		<category><![CDATA[pyNastran]]></category>
		<category><![CDATA[shear moment]]></category>
		<category><![CDATA[software]]></category>
		<guid isPermaLink="false">https://www.m4-engineering.com/?p=5597</guid>

					<description><![CDATA[<p>If we want to make a shear/moment diagram using FEMAP, we need to make repeated Interface Load resultants.&#160; This can be tedious, but is an option.&#160; Alternatively, this can be created using pyNastran.&#160; PyNastran enables analysts using Nastran to efficiently create, manipulate, and extract data from models.&#160; It handles the underlying details so you get [&#8230;]</p>
<p>The post <a rel="nofollow" href="https://www.m4-engineering.com/shear-moment-diagram-of-a-blended-wing-body-using-pynastran/">Shear Moment Diagram of a Blended Wing Body using pyNastran</a> appeared first on <a rel="nofollow" href="https://www.m4-engineering.com">M4 Engineering</a>.</p>
]]></description>
										<content:encoded><![CDATA[		<div data-elementor-type="wp-post" data-elementor-id="5597" class="elementor elementor-5597">
						<div class="elementor-inner">
				<div class="elementor-section-wrap">
									<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-72e2c10 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="72e2c10" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fffd667" data-id="fffd667" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-3e95996 elementor-widget elementor-widget-text-editor" data-id="3e95996" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>If we want to make a shear/moment diagram using FEMAP, we need to make repeated Interface Load resultants.  This can be tedious, but is an option.  Alternatively, this can be created using pyNastran.  PyNastran enables analysts using Nastran to efficiently create, manipulate, and extract data from models.  It handles the underlying details so you get models that will run smoothly, without worrying about field formatting in the process. </p><h3>Challenges:</h3><ul><li>Organizing and analyzing large result files</li><li>Post-processing results outside of commercial software</li></ul><h3>Values:</h3><ul><li>Results extraction from binary data file</li><li>Calculation of interface loads across many load cases</li><li>Creation of Shear/Moment diagram</li><li>Customizable post-processing</li></ul>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-bc8eb85 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="bc8eb85" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-41b71eb" data-id="41b71eb" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-cc750c6 elementor-widget elementor-widget-heading" data-id="cc750c6" data-element_type="widget" data-widget_type="heading.default">
				<div class="elementor-widget-container">
			<h2 class="elementor-heading-title elementor-size-default">An Overview of pyNastran</h2>		</div>
				</div>
				<div class="elementor-element elementor-element-31a2ed6 elementor-widget elementor-widget-text-editor" data-id="31a2ed6" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>pyNastran is an open source python interface library to the various Nastran file formats (BDF, OP2, OP4) that began development back in 2011 and has had continuous development since. Using the BDF interface, you can read/edit/write Nastran geometry without worrying about field formatting. Many checks are also performed to verify that your model is correct. Using the OP2 interface, you can read large result files quickly and efficiently. Additionally, you can extract a subset of the result data and write OP2 and F06 result files.  Rather than replacing FEMAP, Simcenter3D, or PATRAN, the goal of pyNastran is to make engineers more efficient and avoid some of the common pitfalls with model creation and analysis.</p><p>In this post, pyNastran will be used in conjunction with FEMAP w/ NX Nastran to run a static trim analysis on the BWB half model, and to post-process results.  The following will be explored:</p><ul><li>Extracting interface loads using pyNastran and FEMAP. This will help validate the process.</li><li>Creating a Shear-Moment diagram for the vehicle.</li></ul><p>Levering pyNastran effectively enables engineers to automate the extraction of results (e.g., interface loads) and create simplified results visualizations to better understand a model.  This understanding is essential to the development of the next generation of vehicles.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-109b81a elementor-widget elementor-widget-image" data-id="109b81a" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab1-pb12b2k6qmjehik5e2nuyadsb9vjrdv0ihgysttk1o.png" title="ab1" alt="ab1" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-54c5b2e elementor-widget elementor-widget-text-editor" data-id="54c5b2e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><b>Blended Wing Body Model showing Aerodynamic Model</b></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-1db394b elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="1db394b" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4443021" data-id="4443021" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-dba8cf0 elementor-widget elementor-widget-heading" data-id="dba8cf0" data-element_type="widget" data-widget_type="heading.default">
				<div class="elementor-widget-container">
			<h2 class="elementor-heading-title elementor-size-default">Blended Wing Body Aircraft</h2>		</div>
				</div>
				<div class="elementor-element elementor-element-625a19f elementor-widget elementor-widget-text-editor" data-id="625a19f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>The blended wing body (BWB) is a future aircraft concept that has significant aerodynamic benefits.  Regardless of whether a freight transport aircraft with overbody engines (see below) or passenger variant with distributed propulsion, the non-tubular design offers additional design challenges.  This is fundamentally due to the fact that it’s not a pressure vessel, but rather amore traditional “ship design” (see below) or more exotic concept such as a “double-bubble” design.  </p><p>This particular BWB is an all-composite concept with additional masses for payload (modeled as non-structural/concentrated masses).  Skin thicknesses were pre-optimized under a design 2.5g pullup maneuver load case. </p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-d82160c elementor-widget elementor-widget-image" data-id="d82160c" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab2-pb12bo6fvyl4r4vasztkgnx1bn5kak0az5dspqz7ge.png" title="ab2" alt="ab2" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-39a0f50 elementor-widget elementor-widget-text-editor" data-id="39a0f50" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Blended Wing Body – Engine Model and Rigid Elements</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-914142e elementor-widget elementor-widget-text-editor" data-id="914142e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>The aerodynamic model uses a series aero boxes (shown above) which are splined to the structural model at key locations.  For flutter, it’s important to capture the modes.  However, for static aero, it’s important to pick robust structural locations (e.g., rib/spar intersections).</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-62af919 elementor-widget elementor-widget-image" data-id="62af919" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab3-pb12caqkfzg0hryj59km4i83kw2dfahv291g8e1rfs.png" title="ab3" alt="ab3" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-5344c2c elementor-widget elementor-widget-text-editor" data-id="5344c2c" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Blended Wing Body – Spline Points</strong></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-040681e elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="040681e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fbe5e55" data-id="fbe5e55" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-7e08e30 elementor-widget elementor-widget-heading" data-id="7e08e30" data-element_type="widget" data-widget_type="heading.default">
				<div class="elementor-widget-container">
			<h2 class="elementor-heading-title elementor-size-default">What is an Interface Load?</h2>		</div>
				</div>
				<div class="elementor-element elementor-element-4ad8819 elementor-widget elementor-widget-text-editor" data-id="4ad8819" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>Interface Loads are simply the internal loads on a model.  NX/Simcenter Nastran calculates them when the user requests the following as part of the Case Control Deck:</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-1623ec4 elementor-widget elementor-widget-text-editor" data-id="1623ec4" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>GPFORCE(PLOT) = ALL</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-fa47c74 elementor-widget elementor-widget-text-editor" data-id="fa47c74" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>This will enable both FEMAP and pyNastran to extract the Grid Point Force table.  This table lists the load contributions (forces/moments) on each node and lists what the load is caused by (e.g., element 200, SPC/MPC force, applied load, etc.) and is used to calculate interface loads.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-b88ff4a elementor-widget elementor-widget-image" data-id="b88ff4a" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab4-pb12d047kier78xo12jjhttjmala74am5qnk6v049q.png" title="ab4" alt="ab4" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-2e1c6ad elementor-widget elementor-widget-text-editor" data-id="2e1c6ad" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Defining an Interface Load Cut</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-0d29453 elementor-widget elementor-widget-text-editor" data-id="0d29453" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>By exposing the loads (see below), we can expose the internal forces and sum them about a desired point (e.g., the lower left point of the mesh).</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-e6e0b45 elementor-widget elementor-widget-image" data-id="e6e0b45" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab5-pb12dksnqv72ao3mobhc0oloorrcwgkpkl08qy5gtm.png" title="ab5" alt="ab5" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-22e20de elementor-widget elementor-widget-text-editor" data-id="22e20de" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Revealing the Interface Loads</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-0a0e799 elementor-widget elementor-widget-text-editor" data-id="0a0e799" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>This accomplished by (ideally) grabbing all the elements on one side of the cut (including the elements on the cut).  We also need the nodes on one side of the cut.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-7f9fdfd elementor-widget elementor-widget-image" data-id="7f9fdfd" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab6-pb12e0rwz1sxs1gf30dzp2kisbkljbc5as3hwnhrpq.png" title="ab6" alt="ab6" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-c4d4416 elementor-widget elementor-widget-text-editor" data-id="c4d4416" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Fastest Way to define an Interface Loads Cut</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-474755f elementor-widget elementor-widget-text-editor" data-id="474755f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>Alternatively, we can include a few extra nodes to make pulling the nodes a bit easier (at the slight cost of runtime).  There are two classifications of “extra nodes”:</p><ul><li><strong>Nodes in front of the cut face not associated with elements (the rightmost nodes):</strong> will be removed automatically as there are no loads that affect them. These nodes do not affect runtime as they are quickly filtered.</li><li><strong>Nodes behind the cut face (left side of the cut):</strong> all elements that contribute to them are included and thus the loads on those nodes sum to 0. While these nodes have no effect on results, they do affect the runtime.</li></ul>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-87687ee elementor-widget elementor-widget-text-editor" data-id="87687ee" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Method of Creating an Interface Loads cut used in the pyNastran Shear/Moment Plotter</strong></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-16c0a44 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="16c0a44" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-67e48be" data-id="67e48be" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-bd47339 elementor-widget elementor-widget-heading" data-id="bd47339" data-element_type="widget" data-widget_type="heading.default">
				<div class="elementor-widget-container">
			<h2 class="elementor-heading-title elementor-size-default">Shear/Moment Diagram Overview</h2>		</div>
				</div>
				<div class="elementor-element elementor-element-aeed0ce elementor-widget elementor-widget-text-editor" data-id="aeed0ce" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>What is simple and straightforward for a 2D model is not surprisingly a bit more complicated in 3D.&nbsp; An important component is the decoupling of the direction that cuts should be taken vs. the orientation of the output coordinate system.&nbsp; Furthermore, it’s not just one output coordinate system; it’s many.&nbsp; We want to march down an axis and sum forces and moments at each station.</p>
<p>We’ll start off by creating a series of 50 coordinate systems about which interface loads should be summed.&nbsp; This is a bit of extra work (for an interface cut).&nbsp; However, we need our summation points anyways.&nbsp; If you know that apriori, it’s less work.</p>
<p>This is done by selecting the starting (p1) and end points (p3).&nbsp; Of importance, the coordinate axis that will be marched down is different than the coordinate axis where loads will be summed.&nbsp; The axial/torque direction of the wing is in the global -y direction.&nbsp; The vertical direction (z) will be consistent with the global to be consistent with the lift direction.</p>
<p>As 50 cutting planes are being considered (cid=110001 to cid=110050), the origin for cid=110001 will be located at p1, while the origin for cid=110050 will be at p3.&nbsp; We’ll discuss exactly how these coordinate systems are determined soon.&nbsp; Before that though, it’s important to note that coordinate system 110028 will be used for validation.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-b55fe46 elementor-widget elementor-widget-image" data-id="b55fe46" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab7-pb12ewqfff0oqs5zwe7b1ui6zf72t0v0r6a0826du6.png" title="ab7" alt="ab7" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-ef3cc9f elementor-widget elementor-widget-image" data-id="ef3cc9f" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab8-pb12foxl4g3af311bqe44ne0szc37xyyv1ukmd0mcc.png" title="ab8" alt="ab8" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-24616ac elementor-widget elementor-widget-text-editor" data-id="24616ac" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Blended Wing Body – Top View</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-a4d37ed elementor-widget elementor-widget-image" data-id="a4d37ed" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img width="1024" height="333" src="https://www.m4-engineering.com/wp-content/uploads/2021/08/ab9-1024x333.png" class="attachment-large size-large" alt="" loading="lazy" srcset="https://www.m4-engineering.com/wp-content/uploads/2021/08/ab9-1024x333.png 1024w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab9-300x98.png 300w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab9-768x250.png 768w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab9.png 1252w" sizes="(max-width: 1024px) 100vw, 1024px" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-728195e elementor-widget elementor-widget-text-editor" data-id="728195e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Blended Wing Body – Side View</strong></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-b95c48d elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b95c48d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-cd2a460" data-id="cd2a460" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1ee77cd elementor-widget elementor-widget-heading" data-id="1ee77cd" data-element_type="widget" data-widget_type="heading.default">
				<div class="elementor-widget-container">
			<h2 class="elementor-heading-title elementor-size-default">Interface Loads</h2>		</div>
				</div>
				<div class="elementor-element elementor-element-c51b442 elementor-widget elementor-widget-text-editor" data-id="c51b442" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h3>Interface Loads &#8211; Model Setup</h3>
This is done in pyNastran with the following code.  First, we load imports:
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	<strong><span style="color: #00708a;">import</span></strong> os  
2.	<span style="color: #00708a;">import </span> unittest  
3.	<strong><span style="color: #00708a;">import</span></strong> getpass  
4.	<strong><span style="color: #00708a;">from</span></strong> pathlib <strong><span style="color: #00708a;">import</span></strong> Path  
5.	  
6.	<strong><span style="color: #00708a;">import</span></strong> numpy as np  
7.	<strong><span style="color: #00708a;">from</span></strong> cpylog <strong><span style="color: #00708a;">import</span></strong> get_logger  
8.	<strong><span style="color: #00708a;">import</span></strong> matplotlib.pyplot as plt  
9.	  
10.	<strong><span style="color: #00708a;">import</span></strong> pyNastran  
11.	<strong><span style="color: #00708a;">from</span></strong> pyNastran.bdf.bdf <strong><span style="color: #00708a;">import</span></strong> BDF, read_bdf, CORD2R  
12.	<strong><span style="color: #00708a;">from</span></strong> pyNastran.op2.op2_geom <strong><span style="color: #00708a;">import</span></strong> read_op2_geom  
13.	<span style="color: #00708a;">from</span> pyNastran.bdf.mesh_utils.cut_model_by_plane <strong><span style="color: #00708a;">import</span></strong> get_element_centroids, get_stations  
14.	<span style="color: #00708a;">from</span> pyNastran.op2.tables.ogf_gridPointForces.smt <strong><span style="color: #00708a;">import</span></strong> smt_setup, plot_smt  
15.	<span style="color: #00708a;">from</span> pyNastran.utils.nastran_utils <strong><span style="color: #00708a;">import</span></strong> run_nastran  
16.	<span style="color: #00708a;">from</span> pyNastran.bdf.utils <strong><span style="color: #00708a;">import</span></strong> parse_patran_syntax_dict </code></pre>
Now we can setup our paths to where our OP2 file and a modified BDF file will be written:
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	PKG_PATH = Path(pyNastran.__path__[0])  
2.	REL_MODEL_PATH = PKG_PATH / <span style="color: #0000e1;"> '..' </span>/ <span style="color: #0000e1;">'models' </span> 
3.	MODEL_PATH = REL_MODEL_PATH.resolve()  
4.	BWB_PATH = MODEL_PATH / <span style="color: #0000e1;">'bwb'  </span>
5.	  
6.	op2_filename = BWB_PATH / <span style="color: #0000e1;">'bwb_saero.op2'</span>  
7.	bdf_filename_out = BWB_PATH / <span style="color: #0000e1;">'bwb_saero_smt.bdf' </span>
</code></pre>
With that out of the way, we can load the OP2 results. In order to save a bit on runtime, we’ll load the geometry directly from the OP2. We’ll extract only the Grid Point Force results.
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	log = get_logger(level='<span style="color: #0000e1;">info'</span>)  
2.	model = read_op2_geom(  
3.	    op2_filename,  
4.	    include_results='<span style="color: #0000e1;">grid_point_forces'</span>,  
5.	    validate=True, xref=True,  
6.	    build_dataframe=False,
7.	    log=log)  
</code></pre>
Now we can extract the Grid Point Forces for subcase 1.  Additionally, we’ll setup basic nodal data:
<ul>
 	<li><strong>nids</strong>: node ids in the model (GRIDs and SPOINTs)</li>
 	<li><strong>nid_cd</strong>: the node id and CD coordinate frame</li>
 	<li><strong>xyz_cid0</strong>: node locations in the basic coordinate system (coord=0 frame)</li>
 	<li><strong>icd_transform</strong>: a map of the GRID&#8217;s CD/output coordinate frame to node ids</li>
</ul>
As well as some elemental data:
<ul>
 	<li><strong>eids</strong>: element ids</li>
 	<li><strong>element_centroids_cid0</strong>: the element centroids in the basic coordinate system</li>
</ul>
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	gpforce = model.grid_point_forces[1]  
2.	 
3.	(nids, nid_cd, xyz_cid0, icd_transform,   
4.	 eids, element_centroids_cid0) = smt_setup(model)   </code></pre>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-ff17d84 elementor-widget elementor-widget-text-editor" data-id="ff17d84" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h3>Interface Loads &#8211; Extract Results using pyNastran</h3><p>Relating the BWB model back to the interface loads, the elements that will be included have a centroid with a negative x-value in the output coordinate system (e.g., cid=11028 in the <strong>bwb_saero_smt.bdf</strong> model, which we’ll write later).  The nodes that will be included have an x-location ≥ to -0.2% of the wingspan (-25 inches).  This keeps the number of “active” nodes in any given interface loads cut relatively constant.</p><p>The coordinate system at the wing-body junction corresponds to coordinate system ID 110028 and is selected for validation.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-7741a7f elementor-widget elementor-widget-image" data-id="7741a7f" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab10-pb12i2gv6ikim6rcdf6gcksm7jv2aj608i4f63jk4c.png" title="ab10" alt="ab10" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-70943a5 elementor-widget elementor-widget-text-editor" data-id="70943a5" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Selecting Nodes and Elements in the pyNastran GUI using the Highlight Menu</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-9f3d0f3 elementor-widget elementor-widget-text-editor" data-id="9f3d0f3" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				By pulling the nodes and elements from the highlight menu we can create the following data string.  You’ll notice it uses standard node/element syntax:
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	data_str = (  
2.   <span style="color: #0000e1;"> 'Node 1827 1828 4288 4289 4290 4291 1201827 1202604 1887:1891 1893:1898 2588:2611
    4311:4315 1202605:1202611 ' </span>
3.<span style="color: #0000e1;">	    'Elm 1396 1397 1398 1399 1418 1419 1749 1750 1751 1752 2010 2011 2012 2620 2621
    2639 2640 2641 1247:1251 1344:1363 1372:1380 1526:1536 1766:1774 1842:1851 2141:2152
    2310:2321 2342:2365 2569:2577 2801:2956 3081:3246 3683:3742 3855:3920 4506:4603
    4968:5047 5070:5175 5298:5469 5494:5565 5837:5954'</span>
4. )</code></pre>
We can then parse that data using the node/element data using the following function. Functions like this enable a seamless transition from a commercial GUI to pyNastran.
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	nodes_elems_dict = parse_patran_syntax_dict(data_str)  
2.	cut_nids = nodes_elems_dict[<span style="color: #0000e1;">'Node'</span>]  
3.	cut_eids = nodes_elems_dict[<span style="color: #0000e1;">'Elm'</span>]  
</code></pre>
The output coordinate system will be 110028. The CORD2R coordinate system is defined by an origin, a point on the z-axis (or simply the origin + z-axis) as well as a point on the xz-plane (or alternatively the origin + x-axis).
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	origin = np.array([1125.529, 566.6673, 38.76809])  
2.	zaxis = origin + np.array([0., 0., 1.])  
3.	xzplane = origin + np.array([0., -1., 0.])  
4.	summation_point = origin  
5.	  
6.	cut_coord = CORD2R(2, origin, zaxis, xzplane)  </code></pre>
Finally, the “secret” command to extract interface loads. We’ll sum moments about the summation point (simply the origin of the cut coordinate system) and output the loads in that same cut coordinate system.
<pre><code style="color: #7a7a7a; font-size: 12px;">1.	force_sumi, moment_sumi = gpforce.extract_interface_loads(  
2.	    cut_nids, cut_eids,  
3.	    cut_coord, model.coords,  
4.	    nid_cd, icd_transform,  
5.	    xyz_cid0, 
6.	    summation_point=summation_point)  
7.	force_sumi /= 1000. <span style="color: #008200;">  # lbf -&gt; kips </span>
8.	moment_sumi /= 1000.  <span style="color: #008200;"># in-lbf -&gt; in-kips</span>
9.	<strong><span style="color: #00708a;">print</span></strong>(<span style="color: #0000e1;">'force_sum  (kips)      = '</span>, force_sumi)
10.	<strong><span style="color: #00708a;">print</span></strong>(<span style="color: #0000e1;">'moment_sum (inch-kips) = '</span>, moment_sumi)
</code></pre>
					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-a9c2fe5 elementor-widget elementor-widget-text-editor" data-id="a9c2fe5" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<code style="color: #7a7a7a; font-size: 15px;">
force_sum  (kips)      =  [-3.9062502e-6  2.4414064e-7 -126.28]</code>
<br>
<code style="color: #7a7a7a; font-size: 15px;">moment_sum (inch-kips) = [-10558.986 -43460.098 0.03]</code>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-3b23ffb elementor-widget elementor-widget-text-editor" data-id="3b23ffb" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>Note that the model is in English units (inch-lbf-second) and we want the output forces in kips (1 kip=1000 lbf) vs. lbf, and the moments in inch-kips vs. inch-lbf.  Thus, we divide the force and moments by 1000.</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-d331537 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d331537" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9c3b6ee" data-id="9c3b6ee" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-ec73d74 elementor-widget elementor-widget-text-editor" data-id="ec73d74" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h3>Interface Loads – Extract Results using FEMAP</h3><p>Interface Loads can be calculated in FEMAP by selecting a new freebody diagram as shown below by going to the <strong>PostProcessing Toolbox</strong> menu and Creating a Freebody Diagram.  Simply follow the menus to setup the cut.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-52452c4 elementor-widget elementor-widget-image" data-id="52452c4" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img width="1024" height="316" src="https://www.m4-engineering.com/wp-content/uploads/2021/08/ab11-1024x316.png" class="attachment-large size-large" alt="" loading="lazy" srcset="https://www.m4-engineering.com/wp-content/uploads/2021/08/ab11-1024x316.png 1024w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab11-300x92.png 300w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab11-768x237.png 768w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab11-1536x473.png 1536w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab11-2048x631.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-9ced624 elementor-widget elementor-widget-text-editor" data-id="9ced624" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Creating a Freebody Diagram – Interface Load</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-dd69f22 elementor-widget elementor-widget-text-editor" data-id="dd69f22" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>The most critical piece is to select the nodes and elements at which to create the cut.  Again, we’re selecting coordinate system 110028 for validation.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-4068760 elementor-widget elementor-widget-image" data-id="4068760" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab12-pb12kwxbp8mkhsuovequrtgdxsh7ocbjw1vcnx9076.png" title="ab12" alt="ab12" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-d336f49 elementor-widget elementor-widget-text-editor" data-id="d336f49" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Creating Interface Loads – Selecting Nodes &amp; Elements</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-857c6c2 elementor-widget elementor-widget-image" data-id="857c6c2" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img width="1024" height="306" src="https://www.m4-engineering.com/wp-content/uploads/2021/08/ab13-1024x306.png" class="attachment-large size-large" alt="" loading="lazy" srcset="https://www.m4-engineering.com/wp-content/uploads/2021/08/ab13-1024x306.png 1024w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab13-300x90.png 300w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab13-768x229.png 768w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab13-1536x459.png 1536w, https://www.m4-engineering.com/wp-content/uploads/2021/08/ab13-2048x612.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-4b6e8a3 elementor-widget elementor-widget-text-editor" data-id="4b6e8a3" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Summed Interface Loads – Forces and Moments</strong></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-0aa18d8 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0aa18d8" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-75ad366" data-id="75ad366" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a8bce1a elementor-widget elementor-widget-text-editor" data-id="a8bce1a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h2>Shear/Moment Diagram</h2>
Creating a shear/moment diagram requires the following steps:
<ul>
 	<li>Coordinate System Setup</li>
 	<li>Creation of the Shear/Moment Diagram</li>
 	<li>Writing Geometry for Validation</li>
 	<li>Plotting the Shear Moment Diagram</li>
</ul>
<h3>Coordinate System Setup</h3>
So where did those coordinate systems come from?  Simply define the starting (<em>p</em><sub>1</sub>) and end points (<em>p</em><sub>2</sub>) to define the march axis.  We’re choosing a line that starts from  (25% down the wing tip chord/length) to <em>p</em><sub>3</sub> (the projection of the 25% line down the wing root chord).  We choose this 25% or ¼ chord line as the lift acts approximately here in subsonic flow.  Thus, the torsion of the wing will be more reasonable.
<pre><code style="color: #7a7a7a; font-size: 13px;">1.	<span style="color: #008200;"># defines the starting point for the shear, moment, torque plot</span>
2.	p1 = np.array([1388.9, 1262.0, 86.3471])  <span style="color: #008200;"># 1/4c wing_tip; point A</span>
3.
4.	<span style="color: #008200;"># defines the end point for the shear, moment, torque plot</span>
5.	p3 = np.array([910.93, 0.1, 0.0])  <span style="color: #008200;"># 1/4c wing_root</span>
6.
7.	method = <span style="color: #0000e1;">'CORD2R'</span>
8.
9.	zaxis = p1 + np.array([0., 0., 1.])  # point B
10.	<span style="color: #008200;"># defines the XZ plane for the shears/moments</span>
11.	p2 = p1 + np.array([0., -1., 0.])  <span style="color: #008200;"># point C</span>
12.
13.	xyz1, xyz2, xyz3, i, k, coord_out, iaxis_march, stations = get_stations(
14.	    model, p1, p2, p3, zaxis,
15.	    method=method, nplanes=50)  
</code></pre>
We are starting at the wing tip and marching inwards at an angle, so there is a little work to calculate the actual y-location.  We’ll use this data in a bit.
<pre><code style="color: #7a7a7a; font-size: 13px;">1.	nstations = len(stations)  
2.	coord_origins = np.zeros((nstations, 3))  
3.	<strong><span style="color: #00708a;">for</span></strong> istation, station <strong><span style="color: #00708a;">in</span></strong> enumerate(stations):  
4.	    coord_origin = coord_out.origin + iaxis_march * station  
5.	    coord_origins[istation, :] = coord_origin  
6.	ylocations = coord_origins[:, 1]
</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-f35f393 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="f35f393" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9b4645c" data-id="9b4645c" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-60fd601 elementor-widget elementor-widget-text-editor" data-id="60fd601" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h3>Creation of the Shear/Moment Diagram</h3>
Finally, we can calculate the shear/moment diagram!  As discussed previously, we can use a few extra rows of nodes to ensure all the critical nodes are included.  This is set as nodes_tol=25.0 inches, which corresponds to about 2 rows of elements.  As this model is fairly uniform in side, this is adequate.
<pre><code style="color: #7a7a7a; font-size: 13px;">1.	force_sum, moment_sum, new_coords, nelems, nnodes = gpforce.shear_moment_diagram(  
2.	    nids, xyz_cid0, nid_cd, icd_transform,  
3.	    eids, element_centroids_cid0,  
4.	    stations, model.coords, coord_out,  
5.	    iaxis_march=iaxis_march,  <span style="color: #008200;"># defaults to coord_out.i</span>  
6.	    itime=0,  
7.	    nodes_tol=25., log=model.log)  </code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-8575450 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="8575450" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-266221b" data-id="266221b" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-8bd0745 elementor-widget elementor-widget-text-editor" data-id="8bd0745" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h3>Writing Geometry for Validation</h3>
We’d like to see where the coordinate systems were actually created in order to validate our model, so we can write those out.  We can then view them in the pyNastran GUI or FEMAP:
<pre><code style="color: #7a7a7a; font-size: 13px;">1.	<span style="color: #00709a;">for</span> cid, coord <span style="color: #00709a;">in</span> new_coords.items():  
2.	    model.coords[cid] = coord  
3.	<span style="color: #00709a;">print</span>(model.coords[110028])  
4.	model.sol = 144  <span style="color: #008200;"># not saved to the OP2</span>
5.	model.write_bdf(bdf_filename_out)  
</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-79dc30c elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="79dc30c" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-047dc8f" data-id="047dc8f" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-fad5270 elementor-widget elementor-widget-text-editor" data-id="fad5270" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h3>Plotting the Shear/Moment Diagram</h3><p>Finally, we plot the shear/moment diagram (SMT=shear moment torque).</p><pre><code style="color: #7a7a7a; font-size: 13px;">1.	plot_smt(ylocations, force_sum/1000, moment_sum/1000, nelems, nnodes,
2.	         plot_force_components=False, plot_moment_components=False,
3.	         show=True,
4.	         xtitle=<span style="color: #0000e1;">'Y'</span>, xlabel=<span style="color: #0000e1;">'Spanwise Location, Y (in)'</span>,
5.	         force_unit=<span style="color: #0000e1;">'kip'</span>, moment_unit=<span style="color: #0000e1;">'in-kip'</span>)  
</code></pre><p>Force (1 kip = 1000 lb) is plotted vs. span location (in inches).  Aerodynamic load is introduced to the structural model at the spline points and thus, we see large jumps at these locations.  This is normal and the aerodynamic moment is correct.  Primarily we see this outboard (where stresses/strains are low and minimum gage is typically in effect).  Inboard, we see a loss of lift (Z force below 200 inches), as the inboard planform (the top view of the wing) is less efficient.  Additionally, there is a large load X Force (y=172 in) corresponding to the engine.</p><p><strong>Note</strong>: Loads are shown as negative as they’re reactions. </p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-9320289 elementor-widget elementor-widget-image" data-id="9320289" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab14-pb12m9swyp3jotgywks3kzm6i2wl3o3brm8xk39eau.png" title="ab14" alt="ab14" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-12ede4e elementor-widget elementor-widget-text-editor" data-id="12ede4e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Blended Wing Body – Span Location vs. Force</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-d8a296b elementor-widget elementor-widget-text-editor" data-id="d8a296b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>When looking at the moment, we see a smooth wing bending (Y) moment distribution with the engine-induced torque (X) being clearly visible.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-97f044b elementor-widget elementor-widget-image" data-id="97f044b" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab15-pb12muhd51vus8mxjtpw3uebkk2nt0df6glm46eqhy.png" title="ab15" alt="ab15" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-8d25158 elementor-widget elementor-widget-text-editor" data-id="8d25158" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Blended Wing Body – Span Location vs. Moment</strong></p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-48b410a elementor-widget elementor-widget-text-editor" data-id="48b410a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>For validation purposes, we can also look at the total number of nodes and elements at each station of the cut.  This is helpful in making sure we didn’t accidently march downstream (in the direction of the wind) vs. towards the root of the wing.  Many shear/moment plots have been ruined this way!  If this is constant, you did something very wrong!</p><p>Outboard, we see a smooth distribution, while inboard, there are large jumps caused by crossing centerbody ribs that have a large number of nodes/elements.</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-0d4e379 elementor-widget elementor-widget-image" data-id="0d4e379" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img src="https://www.m4-engineering.com/wp-content/uploads/elementor/thumbs/ab16-pb12ne7z4kmvk1u9ck9227f01nddanjs96at6zlgva.png" title="ab16" alt="ab16" />														</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-e001ad4 elementor-widget elementor-widget-text-editor" data-id="e001ad4" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p><strong>Blended Wing Body – Span Location vs. Fraction of Included Nodes/Elements</strong></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-d933f06 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d933f06" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2328e83" data-id="2328e83" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-29b59ba elementor-widget elementor-widget-heading" data-id="29b59ba" data-element_type="widget" data-widget_type="heading.default">
				<div class="elementor-widget-container">
			<h2 class="elementor-heading-title elementor-size-default">Conclusion</h2>		</div>
				</div>
				<div class="elementor-element elementor-element-8fbca70 elementor-widget elementor-widget-text-editor" data-id="8fbca70" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>In this post, we showed how to extract interface loads in pyNastran and FEMAP.  A shear/moment plot was also created using pyNastran for a BWB configuration, which cannot easily be created using FEMAP.  As mentioned before, pyNastran allows engineers to implement and use custom tools in order to perform analyses more efficiently.</p><p>The code for this example can be found at: <a href="https://github.com/SteveDoyle2/pyNastran/tree/master/models/bwb/shear_moment_torque.ipynb">https://github.com/SteveDoyle2/pyNastran/tree/master/models/bwb/shear_moment_torque.ipynb</a>.</p><p>If you are interested in a pyNastran blog post on flutter analysis:</p><p><a href="https://www.m4-engineering.com/flutter-analysis-with-pynastran/">https://www.m4-engineering.com/flutter-analysis-with-pynastran/</a></p><h2>How to Obtain pyNastran</h2><p>The GUI is available for download at: <a href="https://sourceforge.net/projects/pynastran/files/?source=navbar">https://sourceforge.net/projects/pynastran/files/?source=navbar</a></p><p>The source code can be found at: <a href="https://github.com/SteveDoyle2/pyNastran">https://github.com/SteveDoyle2/pyNastran</a>.</p><p>Or installed by running:</p><p>&gt;&gt;&gt; pip install pyNastran</p><p>The documentation can be found at: <a style="font-size: 15px; background-color: #ffffff;" href="https://pynastran-git.readthedocs.io/en/1.4/quick_start/index.html">https://pynastran-git.readthedocs.io/en/1.4/quick_start/index.html</a><span style="font-size: 15px; color: var( --e-global-color-text );">.</span></p><div><!-- [if !supportAnnotations]--><hr align="left" size="1" width="33%" /><!--[endif]--><div><!-- [if !supportAnnotations]--><div><!--[endif]--><!-- [if !supportAnnotations]--><!--[endif]--> <br /><!-- [if !supportAnnotations]--></div><!--[endif]--></div></div><p>Note: pyNastran is an open-source project; bug reports, feature requests and help with development is appreciated and encouraged </p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-particle_enable="false" data-particle-mobile-disabled="false" class="elementor-section elementor-top-section elementor-element elementor-element-6796c8d elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6796c8d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-26fe128" data-id="26fe128" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-03ecf24 elementor-widget elementor-widget-image" data-id="03ecf24" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img width="300" height="225" src="https://www.m4-engineering.com/wp-content/uploads/2020/04/pynastran-18-300x225.jpg" class="attachment-medium size-medium" alt="" loading="lazy" srcset="https://www.m4-engineering.com/wp-content/uploads/2020/04/pynastran-18-300x225.jpg 300w, https://www.m4-engineering.com/wp-content/uploads/2020/04/pynastran-18.jpg 390w" sizes="(max-width: 300px) 100vw, 300px" />														</div>
						</div>
				</div>
						</div>
					</div>
		</div>
				<div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-38e99af" data-id="38e99af" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-feed1dc elementor-widget elementor-widget-heading" data-id="feed1dc" data-element_type="widget" data-widget_type="heading.default">
				<div class="elementor-widget-container">
			<h2 class="elementor-heading-title elementor-size-default">Written by Steve Doyle</h2>		</div>
				</div>
				<div class="elementor-element elementor-element-b1b6dae elementor-widget elementor-widget-text-editor" data-id="b1b6dae" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p>Steve Doyle is a Senior Aerospace Engineer with a background in structural analysis, CFD, and programming.  He’s also the author of pyNastran.  Outside of dorky projects, he likes to hike and rock climb!</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
									</div>
			</div>
					</div>
		<p>The post <a rel="nofollow" href="https://www.m4-engineering.com/shear-moment-diagram-of-a-blended-wing-body-using-pynastran/">Shear Moment Diagram of a Blended Wing Body using pyNastran</a> appeared first on <a rel="nofollow" href="https://www.m4-engineering.com">M4 Engineering</a>.</p>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
